# Система Управления Банковскими Картами

## Описание проекта

Проект представляет собой Java-приложение на Spring Boot для управления банковскими картами. Он обеспечивает CRUD-операции над пользователями и банковскими картами, а также предоставляет функциональность для перевода средств между картами.

### Технологии

- **Spring Boot**: Фреймворк для быстрой разработки RESTful API.
- **Spring Security**: Используется для аутентификации и авторизации пользователей через JWT.
- **PostgreSQL**: База данных для хранения данных о пользователях и картах.
- **OpenAPI/Swagger UI**: Автоматическая генерация документации API.
- **Liquibase**: Создание баз данных для работы с приложением.

### Особенности

1.  **Администраторы**:
    - Создание, обновление, активация и блокировка карт.
    - Управление пользователями
    - Вывод всех карт.

2.  **Пользователи**:
    - Просмотр своих карт.
    - Запрос блокировки своей карты.
    - Перевод средств между своими картами.
    - Валидация баланса карт.

3.  **Безопасность**:
    - Шифрование данных.
    - Привязка ролей к пользователям.
    - Авторизация через JWT.
### Настройка и запуск

#### 1. Запуск локально

1.  **Установите зависимости Maven:**
    ```bash
    mvn clean install
    ```

2.  **Запустите приложение:**
    ```bash
    mvn spring-boot:run
    ```

#### 2. Запуск с помощью Docker Compose

1.  **Убедитесь, что Docker установлен и запущен.**
2.  **Перейдите в корень проекта и выполните:**
    ```bash
    docker-compose up --build
    ```

Это запустит контейнеры PostgreSQL и вашего Spring Boot приложения.

### Swagger UI

Для просмотра документации API откройте [Swagger UI](http://localhost:8080/swagger-ui.html).

### Что я освоил/не смог сделать в проекте:

1. Не смог сделать кастомную страницу для Openapi - провёл достаточно много времени за этим, смотрел статьи, видео, но так и не получилось заставить приложение показывать кастомный UI. Оставил автоматически сгенерированную страницу добавив туда возможность логина.
2. Раньше, на протяжении изучения, не доводилось писать проекты на Security через JwtToken, поэтому сейчас изучал всё с нуля (Писал проекты на Security через сессии и куки)
3. До этого проекта не сталкивался с технологиями:
   1. Liquibase
   2. Swagger UI / OpenAPI
   3. Docker Compose
   4. Не использовал yaml/yml разрешение файлов
   
    Поэтому пришлось изучить их основы за время написания проекта

### Что можно было бы улучшить/изменить:
1. Маскирование карт - сделал отдельные поля в базе данных для замаскированной карты и не маскированной, но не нашёл применения маскированной карты:
с одной строны - это нужно для безопасности, с другой - и ADMIN и USER нужно видеть полные данные своих/пользователя карт. Могу предположить что маскировка карт может понадобиться при добавлении новых функций в проект (перевод между двумя разными пользователями)
2. Логику AdminService можно разгрузить, перенеся часть методов в BankCardService
3. Написать больше тестов для других компонентов программы
